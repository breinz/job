extends /layout/_layout

block content

    +to_admin(`/admin/travels/${travel.id}`)
    h1=travel.name

    if travel.pic
        img.article-banner.visionneuse-reveal(src=getImg(travel.pic, "banner") data-src=getImg(travel.pic) data-all="travel-pics" data-index=0)
    
    .justify
        p!=format(travel.description)
    
    -let pics=[getImg(travel.pic)]


    if travel.pics.length > 0
        .pics
            .grid-container.full
                .grid-x.grid-margin-x.grid-margin-y(stype="positition:relative")
                    +to_admin(`/admin/travels/${travel.id}/pictures`)
                    -let index=1
                    for pic in travel.pics
                        -pics.push(getImg(pic))
                        .cell.small-3.medium-2
                            img.visionneuse-reveal(src=getImg(pic, "mini") data-src=getImg(pic) data-all="travel-pics" data-index=index++)
    
    .hidden#travel-pics(data-src=pics.join(','))

    .grid-container.full
        .grid-x.grid-margin-x
            for child in travels
                .cell.medium-4.small-6
                    .home-item
                        a(href=path+"/"+child.url)
                            if child.pic
                                img(src=getImg(child.pic, "home"), alt="")
                            .title=child.name
                            .sub=child.title